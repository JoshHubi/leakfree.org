<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
    <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225</link>
    <description>Something that has been bothering me for a good long time is the existence of &#39;glowing&#39; props that seem to be much brighter than their surroundings for no adequately-explainable reason (these are not props like light bulbs that have a [i]reason[/i] to glow and use $selfIllum to do it; they&#39;re weird things like desks and bulletin boards). By comparing the material files for glowing and non-glowing props, I&#39;ve determined that (at least for many of them) the effect is caused by the lack of a $bumpmap material in the .vmt file- adding even a blank 128 128 255 one will make the prop light much more normally.

I&#39;m posting this not because I demand the devs put Xen aside for the ext year to go back through and fix every last one of these props (I&#39;m more than capable of doing that myself, actually) but as a reference in case anyone else was experiencing this problem.

Once I get a good portion of these props fixed, I think I&#39;ll put them all together into one big workshop addon along with a bunch of other assets and random useful things I&#39;ve created over the course of BMPD- that way people who want to use them in other mods can do so without having to download every restored Black Mesa map and hunt through its VPK.</description>
    
    <lastBuildDate>Sun, 24 Dec 2017 14:51:24 +0000</lastBuildDate>
    <category>Source 1</category>
    <atom:link href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Update- this seems to be taken care of by setting the prop in question to use lightmaps.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/12">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/12</link>
        <pubDate>Sun, 24 Dec 2017 14:51:24 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-12</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Now all props are lighting weirdly.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/913534190471241501/607E76154EAB66E996FB395548BDBF2EAFD55FD4/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/913534190471241501/607E76154EAB66E996FB395548BDBF2EAFD55FD4/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
This room has two constant lights, one in front of each printer over the middle line of the texture. Each is brightness 20.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/11">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/11</link>
        <pubDate>Sun, 24 Dec 2017 04:05:39 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-11</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Another (related?) <a href="https://forums.blackmesasource.com/index.php/Thread/30657-bug-Distance-dependant-lighting-origin-behavior/" data-bbcode="true" rel="nofollow noopener">issue</a> is that props with an info_lighting entity attached to them get dimmer as the info_lighting moves farther away, regardless of what is actually going on with the entity’s illumination. Is this also a known issue?</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/10">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/10</link>
        <pubDate>Thu, 03 Aug 2017 02:17:51 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-10</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[JeffMOD]]></dc:creator>
        <description><![CDATA[
            <p>Well, in previous versions of source pretty well all props were lit per-vertex, IIRC.</p>
<p>Really glad to hear that they’re being done per-pixel now, that’ll give us much smoother lighting from here on out!  <img src="https://leakfree.org/images/emoji/twitter/smiley.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/9">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/9</link>
        <pubDate>Mon, 17 Jul 2017 18:25:53 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-9</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Which is strange, as I remember noticing the problem (with bulletin boards) way before the CSM update came out.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/8">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/8</link>
        <pubDate>Mon, 17 Jul 2017 14:03:17 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-8</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[TextFAMGUY1]]></dc:creator>
        <description><![CDATA[
            <p>Don’t bother fixing this. I asked our graphics programmer, Chetan, and he said that this happens because non-bumpmapped props are vertex lit instead of pixel lit. This was some kind of CSM hack, from what I can tell.</p>
<p>He said that in the Xen build, all props are pixel lit. So this issue should go away with the Xen update, hopefully.</p>
<p>Nice catch, though! Good bug hunting!</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/7">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/7</link>
        <pubDate>Mon, 17 Jul 2017 05:33:54 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-7</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Just experimentally determined (through running the same map with those two copy machines while making changes to the fixed one’s vmt but <span class="bbcode-i">not</span> recompiling) that the glowiness is determined by the state of the vmt at runtime and not baked into the lightmap at compile. This is good news for a workshop fix as it would not require recompiling the canonical maps, but… well, it’s slowly dawning on me that this issue affects <span class="bbcode-i">quite</span> a lot of props. So, while I’m not advocating whether they <span class="bbcode-i">should</span> or <span class="bbcode-i">shouldn’t</span> look at it, I’d kind of like some confirmation from the developers as to whether they <span class="bbcode-i">are</span> or <span class="bbcode-i">aren’t</span> going to be fixing this issue- it’ll probably take me until well after December to tweak all of those VMFs myself, and I’d hate to do so only to have them all be fixed (or the problem removed entirely) along with Xen anyway.</p>
<p>Regardless, however, next step will be determining whether world brushes are also affected by the presence or absence of a bumpmap, or just props.<br>
UPDATE: They are not.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/6">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/6</link>
        <pubDate>Sun, 16 Jul 2017 23:51:56 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-6</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[JeffMOD]]></dc:creator>
        <description><![CDATA[
            <p>That’s… really odd. I’m going to check the vmts myself to see if there’s any other explanation, because I’m 100% the vertexlitgeneric shader isn’t supposed to act like that.</p>
<p><code>"VertexlitGeneric"
{
	"$basetexture" "models/props_office/copy_machine"
//	"$bumpmap" "models/props_office/copy_machine_normal"
}</code><br>
Hmm… Yeah, no, that’s really weird. I’m pretty sure the other source games don’t behave this way, but I also can’t think of any reason that Crowbar Collective would have had to modify the material shaders for. I don’t think that the CSM system would have required all shaders to be modified, but then again I know from the Lost Coast commentary that Valve had to redo all their shaders when they introduced HDR, so I could be wrong.</p>
<p>Kind of interesting to see that the copy machine used to have a normal map as well. I wonder if that was a leftover from when they were using CS:S content and the custom version didn’t need a normal map, or if there was one for the BM copymachine and it got cut for one reason or another.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/5">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/5</link>
        <pubDate>Sun, 16 Jul 2017 21:22:52 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-5</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Just a quick screenshot to show what I’m talking about:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/838084290653518904/A2543FE2A63A758A5D077DF112C231B3B9B8B609/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/838084290653518904/A2543FE2A63A758A5D077DF112C231B3B9B8B609/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
Both of these copy machine models use the same base texture; both have a single brightness-30, pure-white constant light 64 units directly behind them. The one on the left, however, has a $bumpmap parameter leading to a blank 128 128 255 normal map.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/4">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/4</link>
        <pubDate>Sun, 16 Jul 2017 16:57:55 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-4</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Originally I wanted this to not ‘interfere’ with the canonical maps in any way, but thinking about it as a fix and not a pre-disaster thing specifically it does make sense to just change the canonical models. I’ll have to do some experimenting to see if this is an issue introduced at compilation, or when the map is run- if it’s introduced at compilation my fix would not affect the canon maps at all without recompiling them.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/3">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/3</link>
        <pubDate>Sun, 16 Jul 2017 13:24:44 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-3</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[LordDz]]></dc:creator>
        <description><![CDATA[
            <p>Shouldn’t you just change the material .vmt and reupload those?<br>
That way the fix would be applied to all props and not just the restored maps.</p>
<p>Or am I missing something?</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/2">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/2</link>
        <pubDate>Sun, 16 Jul 2017 13:02:08 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-2</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
      <item>
        <title>Lack of a Bumpmap Causes Props To Light Weirdly</title>
        <dc:creator><![CDATA[Admiral_Sakai]]></dc:creator>
        <description><![CDATA[
            <p>Something that has been bothering me for a good long time is the existence of ‘glowing’ props that seem to be much brighter than their surroundings for no adequately-explainable reason (these are not props like light bulbs that have a <span class="bbcode-i">reason</span> to glow and use $selfIllum to do it; they’re weird things like desks and bulletin boards). By comparing the material files for glowing and non-glowing props, I’ve determined that (at least for many of them) the effect is caused by the lack of a $bumpmap material in the .vmt file- adding even a blank 128 128 255 one will make the prop light much more normally.</p>
<p>I’m posting this not because I demand the devs put Xen aside for the ext year to go back through and fix every last one of these props (I’m more than capable of doing that myself, actually) but as a reference in case anyone else was experiencing this problem.</p>
<p>Once I get a good portion of these props fixed, I think I’ll put them all together into one big workshop addon along with a bunch of other assets and random useful things I’ve created over the course of BMPD- that way people who want to use them in other mods can do so without having to download every restored Black Mesa map and hunt through its VPK.</p>
          <p><a href="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/1">Read full topic</a></p>
        ]]></description>
        <link>https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225/1</link>
        <pubDate>Sat, 15 Jul 2017 22:29:34 +0000</pubDate>
        <guid isPermaLink="false">leakfree.org-post-15225-1</guid>
        <source url="https://leakfree.org/t/lack-of-a-bumpmap-causes-props-to-light-weirdly/15225.rss">Lack of a Bumpmap Causes Props To Light Weirdly</source>
      </item>
  </channel>
</rss>
