<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from leakfree.org/t/dynamic-targetnames-not-working-on-npcs/15128 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 10:08:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Dynamic Targetnames Not Working On NPCs - Help! - Leakfree</title>
    <meta name="description" content="I’m currently trying to make it so that hitting E on an NPC will set its health to 0. 
OnPlayerUse &amp;gt; ____ &amp;gt; SetHealth &amp;gt; 0 
This works if I name the NPC and then use that name in the blank space, but dynamic targetnames l&amp;hellip;">
    <meta name="generator" content="Discourse 2.6.0.beta5 - https://github.com/discourse/discourse version b9fb1cebcd8c8dc34800692fd6f8b72c47b51ad3">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="15128.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://leakfree.org","potentialAction":{"@type":"SearchAction","target":"https://leakfree.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Leakfree Search">

      <link href="../../stylesheets/desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdab.css_%3b%20filename_%3dUTF-8%27%27desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdabd733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop" data-theme-id="11"/>
      <link href="../../stylesheets/desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732d733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11"/>
    <script data-ad-client="ca-pub-2079330348735278" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Dynamic Targetnames Not Working On NPCs&#39;" href="15128.rss" />
    <meta property="og:site_name" content="Leakfree" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:url" content="https://leakfree.org/t/dynamic-targetnames-not-working-on-npcs/15128" />
<meta name="twitter:url" content="https://leakfree.org/t/dynamic-targetnames-not-working-on-npcs/15128" />
<meta property="og:title" content="Dynamic Targetnames Not Working On NPCs" />
<meta name="twitter:title" content="Dynamic Targetnames Not Working On NPCs" />
<meta property="og:description" content="I’m currently trying to make it so that hitting E on an NPC will set its health to 0.  OnPlayerUse &gt; ____ &gt; SetHealth &gt; 0  This works if I name the NPC and then use that name in the blank space, but dynamic targetnames like !self and !caller are not working if they refer to said NPC.  I could deal with naming each and every NPC I want this to work on, but if I could avoid that somehow I’d certainly like to." />
<meta name="twitter:description" content="I’m currently trying to make it so that hitting E on an NPC will set its health to 0.  OnPlayerUse &gt; ____ &gt; SetHealth &gt; 0  This works if I name the NPC and then use that name in the blank space, but dynamic targetnames like !self and !caller are not working if they refer to said NPC.  I could deal with naming each and every NPC I want this to work on, but if I could avoid that somehow I’d certainly like to." />
<meta property="article:published_time" content="2017-03-26T00:52:42+00:00" />
<meta property="og:ignore_canonical" content="true" />



    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Dynamic Targetnames Not Working On NPCs","mainEntity":{"@type":"Question","name":"Dynamic Targetnames Not Working On NPCs","text":"I’m currently trying to make it so that hitting E on an NPC will set its health to 0.\n\nOnPlayerUse &gt; ____ &gt; SetHealth &gt; 0\n\nThis works if I name the NPC and then use that name in the blank space, but dynamic targetnames like !self and !caller are not working if they refer to said NPC.\n\nI could deal w&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2017-03-26T00:52:42.000Z","author":{"@type":"Person","name":"Blsitrus"}}}</script>
  </head>
  <body class="crawler">
    








<script src="../../theme-javascripts/451263f573ec5e4eb9c81f3085c4024d360f28d7.js_%3b%20filename_%3dUTF-8%27%27451263f573ec5e4eb9c81f3085c4024d360f28d7d733.js?__ws=leakfree.org"></script>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png" alt="Leakfree" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="15128.html">Dynamic Targetnames Not Working On NPCs</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/black-mesa-archive/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Black Mesa Archive</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/black-mesa-archive/help/12.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Help!</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Alnaut.html'><span itemprop='name'>Alnaut</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15128.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-03-26T00:52:42Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:02:19Z' class='post-time'>
                November 25, 2018,  5:02am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’m currently trying to make it so that hitting E on an NPC will set its health to 0.</p>
<p>OnPlayerUse &gt; ____ &gt; SetHealth &gt; 0</p>
<p>This works if I name the NPC and then use that name in the blank space, but dynamic targetnames like !self and !caller are not working if they refer to said NPC.<br>
I could deal with naming each and every NPC I want this to work on, but if I could avoid that somehow I’d certainly like to.</p>
        </div>

        <meta itemprop='headline' content='Dynamic Targetnames Not Working On NPCs'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/LordDz.html'><span itemprop='name'>LordDz</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15128.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-03-26T06:40:54Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:02:19Z' class='post-time'>
                November 25, 2018,  5:02am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Use:</p>
<p>OnUser1<br>
!self<br>
setHealth<br>
0<br>
FireonceOnly</p>
<p>and then fireUser1 when pressing E on them.</p>
        </div>

        <meta itemprop='headline' content='Dynamic Targetnames Not Working On NPCs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Alnaut.html'><span itemprop='name'>Alnaut</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15128.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-03-26T18:28:50Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:02:19Z' class='post-time'>
                November 25, 2018,  5:02am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks!<br>
So the correct format of this would be</p>
<p>OnPlayerUse &gt; !self &gt; FireUser1<br>
OnUser1 &gt; !self &gt; setHealth &gt; 0?</p>
<p>Because if I do that nothing seems to happen when I hit the use key.<br>
Unless I use a set name instead of  !self, which is why it seems like dynamic targetnames simply don’t work on NPCs.</p>
        </div>

        <meta itemprop='headline' content='Dynamic Targetnames Not Working On NPCs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/LordDz.html'><span itemprop='name'>LordDz</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15128.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-03-26T22:09:13Z'>
              <time itemprop='dateModified' datetime='2020-08-11T11:39:10Z' class='post-time'>
                August 11, 2020, 11:39am
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Dynamic targetnames work since I use them to equip scentists with guns in my maps.</p>
<p>So I did some tests…</p>
<p>This works perfectly, a whack with crowbar and he’s dead:<br>
<img src="https://i.imgur.com/7vNz5f9.png" alt="" width="671" height="495"></p>
<p>This… Ok now I get it.<br>
When using OnPlayerUse, the !self for some reason is refering to the player and not the npc.<br>
Replacing the OnPlayerUse with a different event and it works.<br>
So the thing here causes it to set the health of the player to 0.<br>
<img src="https://i.imgur.com/RJ6pyAR.png" alt="" width="670" height="497"></p>
<p>This is from one of my maps and it works:<br>
<img src="https://i.imgur.com/JZWM1dQ.png" alt="" width="661" height="497"></p>
<p>So… The OnPlayerUse event causes the !self to refer to the player instead of the npc. Using any other event will refer to the npc. But those events don’t seem to mix with using the npc.</p>
        </div>

        <meta itemprop='headline' content='Dynamic Targetnames Not Working On NPCs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Alnaut.html'><span itemprop='name'>Alnaut</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15128.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-03-26T23:53:27Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:02:20Z' class='post-time'>
                November 25, 2018,  5:02am
              </time>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That’s unfortunate that it behaves like that, I’ll probably just name the NPCs or find some roundabout ways to make it work on NPCs that don’t have the OnPlayerUse Output.<br>
Thanks.</p>
        </div>

        <meta itemprop='headline' content='Dynamic Targetnames Not Working On NPCs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="headerNotice">
    <div class="headerNoticeWrapper wrap">
        <p>Founded in 2004, Leakfree.org became one of the first online communities dedicated to Valve’s Source engine development. It is more famously known for the formation of Black Mesa: Source under the 'Leakfree Modification Team' handle in September 2004.</p>
    </div>
</div>
    
  </body>
  

<!-- Mirrored from leakfree.org/t/dynamic-targetnames-not-working-on-npcs/15128 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 10:08:01 GMT -->
</html>
