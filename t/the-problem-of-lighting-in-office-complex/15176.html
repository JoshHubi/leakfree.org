<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from leakfree.org/t/the-problem-of-lighting-in-office-complex/15176 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 09:40:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>The Problem of Lighting in Office Complex - Source 1 - Leakfree</title>
    <meta name="description" content="Once again I find myself going over and over the lighting in Office Complex, not out of frustration but out of a perfusion of options. There’s a lot that needs adjusted for Office Complex due to some of its unique lighti&amp;hellip;">
    <meta name="generator" content="Discourse 2.6.0.beta5 - https://github.com/discourse/discourse version b9fb1cebcd8c8dc34800692fd6f8b72c47b51ad3">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="15176.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://leakfree.org","potentialAction":{"@type":"SearchAction","target":"https://leakfree.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Leakfree Search">

      <link href="../../stylesheets/desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdab.css_%3b%20filename_%3dUTF-8%27%27desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdabd733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop" data-theme-id="11"/>
      <link href="../../stylesheets/desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732d733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11"/>
    <script data-ad-client="ca-pub-2079330348735278" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;The Problem of Lighting in Office Complex&#39;" href="15176.rss" />
    <meta property="og:site_name" content="Leakfree" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:url" content="https://leakfree.org/t/the-problem-of-lighting-in-office-complex/15176" />
<meta name="twitter:url" content="https://leakfree.org/t/the-problem-of-lighting-in-office-complex/15176" />
<meta property="og:title" content="The Problem of Lighting in Office Complex" />
<meta name="twitter:title" content="The Problem of Lighting in Office Complex" />
<meta property="og:description" content="Once again I find myself going over and over the lighting in Office Complex, not out of frustration but out of a perfusion of options. There’s a lot that needs adjusted for Office Complex due to some of its unique lighting issues and constraints, but I’ve discovered a lot of the tools I am thinking of using to address this problem fairly recently so I thought I would open up a dedicated thread to discuss the technical problems they present with more experienced mappers and possibly also the deve..." />
<meta name="twitter:description" content="Once again I find myself going over and over the lighting in Office Complex, not out of frustration but out of a perfusion of options. There’s a lot that needs adjusted for Office Complex due to some of its unique lighting issues and constraints, but I’ve discovered a lot of the tools I am thinking of using to address this problem fairly recently so I thought I would open up a dedicated thread to discuss the technical problems they present with more experienced mappers and possibly also the deve..." />
<meta property="article:published_time" content="2017-05-17T20:31:49+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    








<script src="../../theme-javascripts/451263f573ec5e4eb9c81f3085c4024d360f28d7.js_%3b%20filename_%3dUTF-8%27%27451263f573ec5e4eb9c81f3085c4024d360f28d7d733.js?__ws=leakfree.org"></script>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png" alt="Leakfree" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="15176.html">The Problem of Lighting in Office Complex</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/general-development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>General Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/general-development/source-1/43.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #ED207B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Source 1</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15176.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-05-17T20:31:49Z'>
              <time itemprop='dateModified' datetime='2020-08-11T11:39:57Z' class='post-time'>
                August 11, 2020, 11:39am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Once again I find myself going over and over the lighting in Office Complex, not out of frustration but out of a perfusion of options. There’s a lot that needs adjusted for Office Complex due to some of its unique lighting issues and constraints, but I’ve discovered a lot of the tools I am thinking of using to address this problem fairly recently so I thought I would open up a dedicated thread to discuss the technical problems they present with more experienced mappers and possibly also the developers themselves.</p>
<ul>
<li>If you’ve run into these issues yourself I’d like to hear about it; if you know of a map that creates the appearance I want under similar constraints I’d like to hear about it.</li>
<li>If I’m using tools incorrectly or overlooking something obvious I’d like to know about it.</li>
<li>If you have an idea a screenshot of your lighting schema in action in an Office-Complex-like environment would be <span class="bbcode-i">great</span>, but is by no means required.</li>
<li>And more than that I’d like to start documenting everything I’ve found so that it can be useful to others in the future.</li>
</ul>
<p>I’m also maintaining a wishlist of things I would be interested in seeing the developers add to the engine that I think would be useful to modders in general, although they kind of have a lot on their plate at the moment so I am not assuming it would be given a high priority.</p>
<p>The Fundamental Problems of Office Complex[/size]<br>
[/size]1: Light Spacing &amp; Unevenness</p>
<p>[/size]In real offices, fluorescent panels don’t actually put out a great deal of light on their own- there are just a very large number of them placed fairly close together and a given room pretty much <span class="bbcode-i">always</span> has at least two. The lights reinforce each other and make the overall area navigable without any one spot being freakishly bright:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://www.sussexceilings.co.uk/wp-content/uploads/2013/06/Fotolia_35973881_S.jpg" title="" rel="nofollow noopener"><img src="https://www.sussexceilings.co.uk/wp-content/uploads/2013/06/Fotolia_35973881_S.jpg" alt="" width="690" height="460"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">849×566</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div>:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://images.fineartamerica.com/images-medium-large/suspended-ceiling-lights-dave-les-jacobs.jpg" title="" rel="nofollow noopener"><img src="https://images.fineartamerica.com/images-medium-large/suspended-ceiling-lights-dave-les-jacobs.jpg" alt="" width="690" height="492"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×643</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><div class="lightbox-wrapper"><a class="lightbox" href="https://d114hh0cykhyb0.cloudfront.net/images/uploads/led-light-ceiling-panels-in-office-conference-room.jpg" title="" rel="nofollow noopener"><img src="https://d114hh0cykhyb0.cloudfront.net/images/uploads/led-light-ceiling-panels-in-office-conference-room.jpg" alt="" width="690" height="459"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×599</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><div class="lightbox-wrapper"><a class="lightbox" href="https://www.whitespace.org.uk/wp-content/uploads/2012/09/brs50781.jpg" title="" rel="nofollow noopener"><img src="https://www.whitespace.org.uk/wp-content/uploads/2012/09/brs50781.jpg" alt="" width="690" height="460"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1280×854</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Office Complex does not do that. There are large areas without lights…<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611977992376/6C2A836EFA65CB4B89FD28312E090D27461838CB/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611977992376/6C2A836EFA65CB4B89FD28312E090D27461838CB/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978011900/4D00C5B1D97BCB2F5AA527849FAFDECD92068E54/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978011900/4D00C5B1D97BCB2F5AA527849FAFDECD92068E54/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Large gaps <span class="bbcode-i">between</span> lights…<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978020650/33A91CEDA779E78FE29B65896F6950C072CF7B46/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978020650/33A91CEDA779E78FE29B65896F6950C072CF7B46/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978029456/0F1E2682201AFF3867EAB82246F001CF0124F83C/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978029456/0F1E2682201AFF3867EAB82246F001CF0124F83C/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>And many rooms with only single panel that (presumably) lights a very large space, which can range from borderline plausible…<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978031925/7300DBA5DD2E4FDD6D8F8D7B355E331587169A0B/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978031925/7300DBA5DD2E4FDD6D8F8D7B355E331587169A0B/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
…to simply ridiculous.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978034996/41A1E8EF201AC910658092BE573BD88C73A1C5FE/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978034996/41A1E8EF201AC910658092BE573BD88C73A1C5FE/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Map B is far and away the worst offender for this, but all three do it to some degree.</p>
<p>I’m not really <span class="bbcode-i">complaining</span> about this, and can see why it was done- the brushwork for those light panels can be kind of a pain to make, and maps with lights every other ceiling tile do indeed look kind of weird. But when trying to recapture the bright, institutional feeling of a working Office Complex, it poses a problem. It’s especially complicated by the presence of a lot of <span class="bbcode-i">paper</span>s in Office Complex positioned near or directly underneath these lights: the lights have to be bright enough to reach these far-away areas, but at the same time the locations right <span class="bbcode-i">next</span> to them can’t be much brighter or else the papers will look very bad (particularly in relation to the bloom effect).</p>
<p>2: Color</p>
<p>[/size]Most actual offices are lit with lights that are faintly yellow to white or <span class="bbcode-i">very </span>faintly blue-white. The post-disaster lighting in Office Complex, however, is a very saturated blue-green. Even when desaturated substantially, that blue-white or blue-green coloring just does <span class="bbcode-i">not</span> go well with Office Complex’s tan and brown walls. Take, for instance, the lighting from QEPD- in its natural, blue-on-blue environment, it looks like this:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978077232/2ED3B9BD9F03992CC8DE9B771D3FC3E66F5639B7/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978077232/2ED3B9BD9F03992CC8DE9B771D3FC3E66F5639B7/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978076710/497DBA5B1675CFF85B1A8F7FE4DD6375DF13B9B8/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978076710/497DBA5B1675CFF85B1A8F7FE4DD6375DF13B9B8/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
However, transplanting those same lights into a “clean copy” of a corridor from Office Complex’s B Map makes the entire area (even in the bright spots right next to the lights) look like it is underwater:<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978103158/8280A27AAD10DA56BB531753351C17615AC535B2/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978103158/8280A27AAD10DA56BB531753351C17615AC535B2/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div>The textures involved really look better under white or slightly yellow lighting…<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978124518/A7C7F2E3D62620D06D1611DAE660BBB90B31477C/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978124518/A7C7F2E3D62620D06D1611DAE660BBB90B31477C/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
but I don’t want to lose the cooler “feel” of the lighting in Office Complex completely. My ideal solution would be some way to use blue lights as "accents"around the light fixtures themselves, providing a clear connection to what we see in the post-disaster version of the map, while actually doing most of the <span class="bbcode-i">illumination</span> of the complex in white or yellow.</p>
<p>3: Grimy Textures<br>
[/size][/size]Notice that even with <span class="bbcode-i">very</span> bright yellow-white lighting, the shots up above still don’t look very good. This is because, as I’ve mentioned previously in other threads, the textures in Office Complex seem to have been developed specifically for a very dim lighting scheme and therefore have a very dark, claustrophobic quality almost baked into them. To illustrate, here’s a simple 128-by-128 cube done in the Questionable Ethics texture set, with a single, pure white, brightness-30 quadratic light positioned dead center:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978164607/FBBFDB32BB616AC0153B79CCEAA894C6968B0973/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978164607/FBBFDB32BB616AC0153B79CCEAA894C6968B0973/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div>Looks institutional but still lively, yes? Perhaps even a smidgen too bright?</p>
<p>Here is that same cube redone in the Office Complex texture set, and it still looks like the sort of abandoned building you’d find in a cheap survival horror game. <span class="bbcode-i">Especially</span> near the corners where the light isn’t shining directly on the walls, where it develops a weird greenish tinge:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978164725/DEB42066E986D97EBB0050459748029FB0D414F6/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978164725/DEB42066E986D97EBB0050459748029FB0D414F6/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>These are, <span class="bbcode-i">essentially</span>, the problems I face when working in Office Complex. To some degree they are all interconnected- the dimness of the lighting is enhanced by its blueness and the natural griminess of the textures; the grimy textures are shown off by the blue color scheme and the fact that lights are few and far between; and the blue lights look even worse because they can’t reach the corners and show off the griminess of the textures. I’ve tried a lot of solutions- many of them were promising, and even the failures were interesting, and some of these problems are mostly <span class="bbcode-i">solved</span>- but as I will likely be pushing into a wordcount limit before too long this seems as good a place as any to stop this post and start on another.</p>
        </div>

        <meta itemprop='headline' content='The Problem of Lighting in Office Complex'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15176.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-05-17T21:56:48Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:04:09Z' class='post-time'>
                November 25, 2018,  5:04am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Beating the Fluorescent Lighting Blues[/size]<br>
The effect of lighting color on Office Complex’s general suitability as a work environment cannot be overstated. To remove the effect of grimy textures I ran a quick find-and-replace on Map B’s textures to turn them into the Anomalous Materials ones, which are also yellow but are reasonably clean, and focused on one particularly well-lit area near the bathrooms. One photo is lit with white lights, the other with Office Complex’s native blue. Which ship would <span class="bbcode-i">you</span> rather work in?<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978330836/A5DF2B20A258451989281423C2E807AAC716B168/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978330836/A5DF2B20A258451989281423C2E807AAC716B168/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978331446/09DFAF0F75B80B3BADE4EA92BCE2A294C7F1C427/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978331446/09DFAF0F75B80B3BADE4EA92BCE2A294C7F1C427/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Failure 1: Yellowish Lights with Blue Accents[/size]</p>
<p>The idea here was to simply add a second set of blue “accent” lights near actual light sources (which wouldn’t be very bright and would have sharp falloffs) and then light the rest of the map in white. Then I realized that since the blue light was still reflecting and making everything else blue anyway, I’d need to make the main lights yellow to counter this. It proved very difficult to balance the two on a room-by-room basis, the yellow lights invariably showed up too strongly in the corners, and the overall effect was… yucky.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/269474729121922740/01DCDEC15F145626CC69BA02751F2C1082209F32/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/269474729121922740/01DCDEC15F145626CC69BA02751F2C1082209F32/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Failure 2: Reflectivity Values<br>
[/size]I tried to do the same thing by making the walls simply not <span class="bbcode-i">reflect</span> blue light by using the <a href="https://developer.valvesoftware.com/wiki/%24reflectivity" data-bbcode="true" rel="nofollow noopener">$reflectivity</a> shader parameter. This proved to have the same yellow-buildup problem as the accents and area lights, with the added bonus of needing a material for each room if I tried to tweak it room-by-room. It was not a good choice.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902611978390667/B8C28596F33475D3D40DD7C855F2783662891EF6/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902611978390667/B8C28596F33475D3D40DD7C855F2783662891EF6/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
In this test map, the far light looks almost normal, but the first two are completely broken. This is because the same shader reacts <span class="bbcode-i">very</span> differently to slight changes in the way lighting is configured, say from map to map or room to room.</p>
<p>Partial Success: Named Accents</p>
<p>[/size]Eventually I realized that since my problem was with blue light bouncing where it was not wanted, I could just <span class="bbcode-i">name</span> the accent lights and they would not bounce. This is the system currently used in the published OCPD maps, and it works <span class="bbcode-i">fairly</span> well… it does, however, have some problems.</p>
<ul>
<li>
<span class="bbcode-b">It requires a lot of lights: </span>Typically I have one accent light_spot for each surface the light is supposed to shine onto- one for the floor, one for the ceiling, and typically two walls. Trying to use a regular light_spot that illuminates the floor and the walls at the same time typically results in the entire floor being turned a bright blue (along with whatever NPCs and objects stick up from it), because the lights need to be fairly saturated and most importantly very <span class="bbcode-i">wide</span> in order to show up on the walls.</li>
<li>
<span class="bbcode-b">Those lights add to entity data:</span> It’s typically around 30 or 40 percentiles for a map the size of pd_c1a2b. It’s not <span class="bbcode-i">crippling</span>, but if I were to do a bunch of other very entity-intensive things on a very large map I would not want to have very many of these accent lights.</li>
<li>
<span class="bbcode-b">They need to be very bright to show up over top of the base illumination:</span> This typically means I have to knock the bloom scale down to <span class="bbcode-i">at most</span> 0.2 to compensate, which makes it much harder in turn to make the base illumination realistic.</li>
<li>
<span class="bbcode-b">The lightmaps need to be made very small</span> <span class="bbcode-b">wherever accent lights are used:</span> Anything less than about 8 results in these big blue blodges that don’t really look like anything.</li>
</ul>
<p>So, I guess, essentially what I’m looking for is a combination of two things:</p>
<ol>
<li>A way to make blue accents show up against a bright white background (almost like a <span class="bbcode-i">negative</span> light that makes the things it shines on less yellow and therefore more blue) without making them super bright.</li>
<li>A way to make that effect not bounce. I’ve looked into the “maximum distance the light is allowed to cast” parameter and it seems to have no effect at all; the 50% and 100% falloff values <span class="bbcode-i">approximate</span> what I want but even with “hard falloff” set still bounce with very bright lights. I can very probably live with the light still taking up entdata as a named light or similar, though, if there was just a way to resolve <span class="hashtag">#1</span>.</li>
</ol>
        </div>

        <meta itemprop='headline' content='The Problem of Lighting in Office Complex'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15176.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-05-24T02:49:48Z'>
              <time itemprop='dateModified' datetime='2020-08-11T11:39:58Z' class='post-time'>
                August 11, 2020, 11:39am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Putting A Cleaner Face On Office Complex[/size]<br>
The <span class="bbcode-i">very</span> first thing I ever noticed about Office Complex when I tried to restore it was how dark the ceilings were. For the longest time I thought this was a problem with my lighting scheme, but really when you look at them in a perfectly well-lit room (like my old one-light cube) they’re just naturally this weird greenish-gray. Actual ceiling tiles, even ones that have been around for a while and accumulated some dirt, just aren’t that color.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902869629775591/99A539EFE42A017122354E8C93E94364B6553C50/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902869629775591/99A539EFE42A017122354E8C93E94364B6553C50/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><img src="https://www.atilaminates.com/wp-content/uploads/2016/10/FAUX-MINERAL-FIBER-CEILNG-TILES_BEFORE.jpg" alt="" width="" height=""></p>
<p>For a while after that I figured the ceiling tiles were the end of it, but really there’s problems with the walls- they have an odd, ruddy, grimy texture to them that’s not at all appropriate for a working office, but most insidiously <span class="bbcode-i">this is not immediately apparent</span>. In the canonical, post-disaster maps, the easiest way to approximate what Office Complex textures would look like under realistic lighting conditions is to shine your flashlight on them. When doing this, it <span class="bbcode-i">looks</span> like the light is weakly illuminating a bright, sort of buttery-colored tan wallboard…</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902869632263824/D4C23FE32A4055025C9CE033AC92A2D3721CE626/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902869632263824/D4C23FE32A4055025C9CE033AC92A2D3721CE626/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>… when in fact this is the result of bloom and HDR-like effects (from a flashlight that is in fact <span class="bbcode-i">extremely </span>bright) dramatically altering the appearance of the underlying material. Look what it does to things that are actually <span class="bbcode-i">white</span>:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902869632333131/A13C93CB17E6A8F78872DC317F4F67DE5727A7F1/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902869632333131/A13C93CB17E6A8F78872DC317F4F67DE5727A7F1/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Once again I have a pretty good idea of why the devs made the textures this way. They make Office Complex <span class="bbcode-i">look </span>extremely dim, without <span class="bbcode-i">actually</span> making the physical lighting so dim that players cannot see what they are doing. The problem is, that is kind of exactly the opposite of the effect I want, and sets the bar for the appearance of bright, work-friendly lighting <span class="bbcode-i">extremely</span> high. That bloom effect can be duplicated by turning up the brightness of the lights in general to ridiculous levels (like here in the light box, a single constant-attenuation light with brightness 120), but in doing so it causes naturally brighter objects (typically papers and various props) to simply <span class="bbcode-i">glow</span>:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902869632468062/83E1229D112BEDE10086883F061EECD843E018EB/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902869632468062/83E1229D112BEDE10086883F061EECD843E018EB/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Obviously, this is a major problem, but there are more than a few tools available to help deal with it. Really, the issue with replacing Office Complex’s textures isn’t one of things <span class="bbcode-i">not working</span> as it is there being a plethora of options available with a variety of different strengths and weaknesses.</p>
<p>Directly Editing Textures[/size]<br>
One of the more obvious ways to fix the Office Complex textures is just to extract them from their vtf format and edit them in an external graphics program like Photoshop or (my personal choice, since it’s free and easier for someone with no formal graphic-design training to use) <a href="https://www.gimp.org/" data-bbcode="true" rel="nofollow noopener">GIMP</a>. The ability of a skilled graphic artist (or someone like me who has worked on the algorithmic side of image processing in the past) to modify Office Complex’s textures to fit a specific tone or concept of the area is in theory unlimited, but there’s a catch. By default, <span class="bbcode-b">the vtf format uses lossy compression</span>. This means that what you extract a texture, change it in an external program, and put it back into a new texture file you won’t see exactly what you made in-game. Now, in most textures this difference is small, but in the case of Office Complex’s walls develop this nasty green tinge.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773902869645151056/97D1648F3091380A64DC706875A9AFDCEB053041/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773902869645151056/97D1648F3091380A64DC706875A9AFDCEB053041/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div>In our old cube room it’s not particularly obvious, but it does give the walls a notable grimy quality, especially in the corners.</p>
<p>At the moment there isn’t really a <span class="bbcode-i">good</span> way to deal with this, as the user-friendly VTFEdit does not allow disabling compression completely. I’m stuck, then, compiling textures using good old-fashioned vtex.exe, which allows for the “nocompress 1” compile parameter. It’s also possible to try to anticipate the greening effect and compensate for it when creating the base texture, but this is an inexact science.</p>
<p>The $color Shader Param[/size]<br>
Shader parameters are powerful magic. <a href="https://developer.valvesoftware.com/wiki/%24color" data-bbcode="true" rel="nofollow noopener">$color</a> is mostly useful for tweaking the appearance of custom textures without having to re-edit, re-save and recompile each time, but it <span class="bbcode-i">does </span>allow for the R-G-B weighting to be pushed up <span class="bbcode-i">above</span>  1.0-1.0-1.0, and this has some interesting properties:<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773903251335644002/FF7209231B453FF4545C51F63AE5103116EB522A/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773903251335644002/FF7209231B453FF4545C51F63AE5103116EB522A/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div>Here the texture on the left has been “scaled up” by a factor of 1.5:  it looks <span class="bbcode-i">lighter</span>, but the difference is a lot more pronounced on the white main section than it is on the black rubber. I <span class="bbcode-i">think</span> the effect is (as the fact that we’re adjusting values from 0 to infinity where 1.0 has no effect at all would indicate) <span class="bbcode-b">multiplicative</span>: Dark areas will stay pretty dark, but light areas get much brighter. This could potentially be useful for making surfaces “take light” better and appear better-illuminated with less actual light falling on them, but thus far I have not put this effect to use in Office Complex. Perhaps I’ll investigate in more detail when I do the post on evening out lighting.</p>
<p>The $reflectivity Shader Param[/size]<br>
For a while I thought this was going to be a silver bullet to resolve Office Complex’s dim-ceilings problem, going off of information from <a href="https://www.nodraw.net/2011/02/reflectivity/" data-bbcode="true" rel="nofollow noopener">a post on nodraw.net</a> describing it. Barring a radical restructuring of the basics of Office Complex lighting I don’t think I’ll be using that exact technique here, but I did learn a bit about modifying reflectivity in general. In a very rough overview, the higher you boost the reflectivity of a surface, the more light will bounce around, which makes the overall brightness much more <span class="bbcode-i">even</span>- dim corners will be less dim and the effect of a single light source will be more spread out. This is most of what we want, but it <span class="bbcode-i">also</span> means the area immediately under a light will stand out much less, and this can make the entire map look very “fullbright”. And since the change is part of the material used, it’s universal across maps and can’t be fine-tuned to match the lighting of each individual room.</p>
<p>Color Correction[/size]<br>
I haven’t messed around with it a great deal, but I’d additionally looked into color correction in order to deal with the ‘greening’ of my custom textures. Now that I’ve ID’d the problem as a compression artifact and more or less resolved it that’s not an issue, but I am wondering if color correction may be of use in dealing with the blue-lights problem up above- turning bright areas bluer and dim areas yellower, for instance? In particular, I am encouraged by the fact that color correction is <span class="bbcode-i">volumetric</span>- that means I don’t need to worry about it doing weird things to non-office areas that should be lit more normally.</p>
<p>So I guess at the end of the day I have (from a Hammer perspective) a good, working solution to the problem of grimy textures- I’ve made what I think are some pretty good new ones by colorizing the top and bottom sections of the plaster walls to how they look when the flashlight is shined directly on them, and while having to use vtex instead of VTFEdit slows down development a tiny bit it’s really not a big deal as I don’t repeatedly revise the textures and it has zero effect on the final appearance of the map. Additionally, several things like $reflectivity and color correction, could in theory be used to help resolve the blue-light and even-lighting issues respectively, but that will require some additional experimentation and tweaking.</p>
        </div>

        <meta itemprop='headline' content='The Problem of Lighting in Office Complex'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15176.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-05-26T01:10:21Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:04:16Z' class='post-time'>
                November 25, 2018,  5:04am
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Evening Things Out[/size]</p>
<p>At first the problem of evening out the lighting in Office Complex seems pretty simple- just fill in the gaps between the real lights with <span class="bbcode-i">phantom </span>lights that are centrally located and set to a constant attenuation so that they don’t seem to be emanating from any one source in particular. Black Mesa itself uses this technique a fair bit to light up particularly dark patches, but it is unsuited to Office Complex’s environment of long corridors and broad, flat expanses with relatively low ceilings. Here’s why.</p>
<p>Constant Lights Aren’t Perfectly Even[/size]<br>
Here is a single constant, brightness-20 light in a corridor in Map A. Notice that not the entire ceiling is lit evenly:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773903251337729146/683FBE8312251865532453B2C8FE7B00C3036A68/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773903251337729146/683FBE8312251865532453B2C8FE7B00C3036A68/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
The farther we get from the light itself, the dimmer the ceiling becomes- not necessarily because the light itself gets weaker, but because it is striking the ceiling at a flatter <span class="bbcode-i">angle</span>. So why not put another constant light every ten or twenty feet to insure equal coverage?</p>
<p>Lighting Pileup[/size]</p>
<p>Adding a bunch of constant lights to fill a long corridor or other flat space causes an annoying problem. Here I’ve added a constant brightness-40 light under each fluorescent tube, which does indeed make the ceiling and most of the walls look <span class="bbcode-i">pretty good</span>.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773903251337768074/0400E94B00776F113C2E2A1E5CDD3F929DE95F61/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773903251337768074/0400E94B00776F113C2E2A1E5CDD3F929DE95F61/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>But let’s take a look at the far wall with the door.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773903251342357943/D1F41CE682578142A4363AE200B14F470E08BFC3/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773903251342357943/D1F41CE682578142A4363AE200B14F470E08BFC3/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
It appears to be glowing when all else around it is dim. Why? <span class="bbcode-b">Lighting Pileup</span>.</p>
<p>The basic idea behind this is that if you have multiple lights with a constant or near-constant attenuation arranged in a row or flat plane (as you would need to evenly illuminate a long corridor or a broad, low-ceilinged room like the cube farm in Map B), you will have some surfaces that are lit at a direct angle by more lights than other surfaces. And since the lights have little attenuation, all of those lights will strike that surface with the same individual brightness, making the surface look brighter by simple addition:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://steamuserimages-a.akamaihd.net/ugc/773903251342542211/058FE38D86A3C447CFF4EDF38715B42A801718B4/" title="" rel="nofollow noopener"><img src="https://steamuserimages-a.akamaihd.net/ugc/773903251342542211/058FE38D86A3C447CFF4EDF38715B42A801718B4/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>How to deal with this? Well, for the longest time I tried tweaking the 50 and 100% falloff values to get a light that <span class="bbcode-i">looked</span> constant but then fell off sharply after a specific radius, and it didn’t really work too well. The lights fell off quickly, had this bright “core” that meant they couldn’t be placed too near walls or props, and just generally looked <span class="bbcode-i">bad</span>. I’ve found that the best thing to do is actually just to keep the constant and linear terms set to ‘1’ and the constant term set to some very high number (typically 1000 to 10000). Why this behaves so much better than actually setting the first two terms to exactly zero, <span class="bbcode-i">or</span> setting them to very small numbers while leaving ‘constant’ at 1, I don’t really know.</p>
        </div>

        <meta itemprop='headline' content='The Problem of Lighting in Office Complex'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15176.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2017-06-01T21:23:49Z'>
              <time itemprop='dateModified' datetime='2018-11-25T05:04:21Z' class='post-time'>
                November 25, 2018,  5:04am
              </time>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>One thing I am thinking of doing to resolve the various issues I have with the OC lights was to create a <span class="bbcode-i">filter </span>material- something with a multiplicative or subtractive effect where perfectly black objects (RGB = 0, 0, 0) would stay perfectly black, but brighter materials would have their channels multiplied by the base color and thereby tinted (for example, 128, 128, 128 * 0, 0, 1 = 0, 0, 128- that is, a gray material becomes blue). Note that this has nothing to do with <span class="bbcode-i">lighting </span>in the engine sense at all- it’s just an effect of a material between the player and whatever they are looking at.</p>
<p>If I had such a thing (preferably determined on a pixel-by-pixel basis by the underlying material) I could just place thin brushes over areas that were supposed to be blue, and save myself not only the over-bloom concerns of actual lights but the entdata and lightmap overhead as well.</p>
<p>Sadly, I am not certain how to go about specifying that sort of behavior. I am <span class="bbcode-i">reasonably</span> sure that the Source Engine does support this since colored glass existed all the way back in Half-Life 1, but I am at a loss as to how to invoke it. There’s a $multiply shader param, but it has no visible effect on materials and IIRC it is actually related to blended materials.</p>
<p>UPDATE:</p>
<p>Turns out that what I’m looking for is the “refract” shader, with the parameter “$refractamount” “0.0”. The color can be set using the $refracttintparam, and an alpha map supplied (somewhat hackishly) with $normalmap. This is… well, it’s everything I could want and more. I’m going to mess around with it, and see if I can do things like stick it onto decals. <span class="bbcode-i">In theory</span> I could replace every single named accent light in Office Complex with these filters, either as decals or brushes… however I will probably end up keeping at least some of the old lights around to light props, etc.</p>
        </div>

        <meta itemprop='headline' content='The Problem of Lighting in Office Complex'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="headerNotice">
    <div class="headerNoticeWrapper wrap">
        <p>Founded in 2004, Leakfree.org became one of the first online communities dedicated to Valve’s Source engine development. It is more famously known for the formation of Black Mesa: Source under the 'Leakfree Modification Team' handle in September 2004.</p>
    </div>
</div>
    
  </body>
  

<!-- Mirrored from leakfree.org/t/the-problem-of-lighting-in-office-complex/15176 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 09:40:26 GMT -->
</html>
