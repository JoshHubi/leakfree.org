<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from leakfree.org/t/annoying-csm/14843 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 10:08:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Annoying CSM - Source 1 - Leakfree</title>
    <meta name="description" content="I first noticed these issues in QEPD where the brighter lighting makes them more obvious, but they exist in the canon bm_c2a4h map as well. 
 
The big problem is that indoors, the CSM seems to put a single giant “shadow”&amp;hellip;">
    <meta name="generator" content="Discourse 2.6.0.beta5 - https://github.com/discourse/discourse version b9fb1cebcd8c8dc34800692fd6f8b72c47b51ad3">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="14843.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://leakfree.org","potentialAction":{"@type":"SearchAction","target":"https://leakfree.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Leakfree Search">

      <link href="../../stylesheets/desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdab.css_%3b%20filename_%3dUTF-8%27%27desktop_8_78a84313b1758221d1fdcffd1499666af5b5fdabd733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop" data-theme-id="11"/>
      <link href="../../stylesheets/desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_bcef0414ba3b66792586d18ce571f192263e1732d733.css?__ws=leakfree.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11"/>
    <script data-ad-client="ca-pub-2079330348735278" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Annoying CSM&#39;" href="14843.rss" />
    <meta property="og:site_name" content="Leakfree" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:image" content="https://leakfree.org/uploads/default/original/2X/1/1b69109125d4946f223f71d45e038e4e8e7410f9.png" />
<meta property="og:url" content="https://leakfree.org/t/annoying-csm/14843" />
<meta name="twitter:url" content="https://leakfree.org/t/annoying-csm/14843" />
<meta property="og:title" content="Annoying CSM" />
<meta name="twitter:title" content="Annoying CSM" />
<meta property="og:description" content="I first noticed these issues in QEPD where the brighter lighting makes them more obvious, but they exist in the canon bm_c2a4h map as well.     The big problem is that indoors, the CSM seems to put a single giant “shadow” over everything, resulting in the floors and some walls being covered by this horrible brown patina. You can see here how it discolors the light falling onto the floor, turning it “underexposed” and brown where the “bio labs” sign reveals it to in fact be a bright blue-white.   ..." />
<meta name="twitter:description" content="I first noticed these issues in QEPD where the brighter lighting makes them more obvious, but they exist in the canon bm_c2a4h map as well.     The big problem is that indoors, the CSM seems to put a single giant “shadow” over everything, resulting in the floors and some walls being covered by this horrible brown patina. You can see here how it discolors the light falling onto the floor, turning it “underexposed” and brown where the “bio labs” sign reveals it to in fact be a bright blue-white.   ..." />
<meta property="article:published_time" content="2016-06-28T18:08:04+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    








<script src="../../theme-javascripts/451263f573ec5e4eb9c81f3085c4024d360f28d7.js_%3b%20filename_%3dUTF-8%27%27451263f573ec5e4eb9c81f3085c4024d360f28d7d733.js?__ws=leakfree.org"></script>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png" alt="Leakfree" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="14843.html">Annoying CSM</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/general-development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>General Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/general-development/source-1/43.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #ED207B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Source 1</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14843.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-06-28T18:08:04Z'>
              <time itemprop='dateModified' datetime='2020-08-11T11:34:21Z' class='post-time'>
                August 11, 2020, 11:34am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I first noticed these issues in QEPD where the brighter lighting makes them more obvious, but they exist in the canon bm_c2a4h map as well.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://images.akamai.steamusercontent.com/ugc/267217845670044510/9FA991D4C64507E777D313B6CF47B9C504530B75/" title="" rel="nofollow noopener"><img src="https://images.akamai.steamusercontent.com/ugc/267217845670044510/9FA991D4C64507E777D313B6CF47B9C504530B75/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
The big problem is that <span class="bbcode-i">indoors</span>, the CSM seems to put a single giant “shadow” over everything, resulting in the floors and some walls being covered by this horrible brown patina. You can see here how it discolors the light falling onto the floor, turning it “underexposed” and brown where the “bio labs” sign reveals it to in fact be a bright blue-white.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://images.akamai.steamusercontent.com/ugc/267217845670044720/524A554B8853D35337C0345A94AEA4D7217F3F8A/" title="" rel="nofollow noopener"><img src="https://images.akamai.steamusercontent.com/ugc/267217845670044720/524A554B8853D35337C0345A94AEA4D7217F3F8A/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
This patina-shadow does <span class="bbcode-i">not</span> affect props, causing them to in some cases appear to be “glowing”, or, due to the lack of a shadow specifically for them as opposed to everywhere, “floating”.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://images.akamai.steamusercontent.com/ugc/267217845670044622/304AC9B87DC84790D6364127DCB4F68480E86F33/" title="" rel="nofollow noopener"><img src="https://images.akamai.steamusercontent.com/ugc/267217845670044622/304AC9B87DC84790D6364127DCB4F68480E86F33/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
The patina-shadows do not seem to synch up with the walls quite right in concave interior rooms- there is often a little strip of white in the corners where the floor meets the wall, which from a distance looks very similar to a hole to nodraw.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://images.akamai.steamusercontent.com/ugc/267217845670044813/A4643DA9AED6BE6338E8CBE66BB018A45BF3D33F/" title="" rel="nofollow noopener"><img src="https://images.akamai.steamusercontent.com/ugc/267217845670044813/A4643DA9AED6BE6338E8CBE66BB018A45BF3D33F/" alt="" width="690" height="388"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1080</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
Also observed this strange effect, where the lightmap shadow of the console seems to “blend out” the patina-shadow, producing a darker but more bluish area under the panels.</p>
<p>Since (to my knowledge) I’m the first modder to actually <span class="bbcode-i">interact</span> with CSM, I’m wondering if there’s any way to ‘fix’ this, for instance by turning the CSM entity itself on or off- none of the other topside maps seem to have the problems c2a4h does, so is there something I’m missing about how to control these entities? Just in general, can we get some more information at some point relating to how CSM works and how to control it in custom maps?</p>
        </div>

        <meta itemprop='headline' content='Annoying CSM'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Flavrans.html'><span itemprop='name'>Flavrans</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14843.html">

            <link itemprop="image" href="../../uploads/default/original/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a.jpg">

          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-06-28T22:16:22Z'>
              <time itemprop='dateModified' datetime='2018-11-25T04:52:42Z' class='post-time'>
                November 25, 2018,  4:52am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I did some testing and found that the “patina-shadows” go away if you set the SkipLightMapEnabled property in the env_cascade_light entity to 0 (false). It’s set to 1 in the stock bm_c2a4h map.</p>
<p>The help text for this property says: “If true, CSM will work even on maps compiled without -cascadeshadows. Workaround for lightstyles.”</p>
<div class="spoiler">
<p>[attach=4900,none,1920][/attach][attach=4901,none,1920][/attach][attach=4902,none,1920][/attach][attach=4903,none,1920][/attach]</p>
</div>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a.jpg" data-download-href="https://leakfree.org/uploads/default/cb0b4806ca419a911174540e66cf8d524a05c08a" title="20160628234525_1.jpg"><img src="../../uploads/default/optimized/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a_2_690x500.jpg" alt="20160628234525_1.jpg" data-base62-sha1="sYd5ZFSQubUgLOH3KpIWV9dkHzk" width="690" height="500" srcset="https://leakfree.org/uploads/default/optimized/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a_2_690x500.jpeg, https://leakfree.org/uploads/default/optimized/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a_2_1035x750.jpeg 1.5x, https://leakfree.org/uploads/default/optimized/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a_2_1380x1000.jpeg 2x" data-small-upload="../../uploads/default/optimized/2X/c/cb0b4806ca419a911174540e66cf8d524a05c08a_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">20160628234525_1.jpg</span><span class="informations">1920×1080 188 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2.jpg" data-download-href="https://leakfree.org/uploads/default/1176f9728982586115e02b3ab0e9250c7810f0f2" title="20160628234605_1.jpg"><img src="../../uploads/default/optimized/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2_2_690x500.jpg" alt="20160628234605_1.jpg" data-base62-sha1="2uv192TCQ5xZxovDdQm0qKw9jhg" width="690" height="500" srcset="https://leakfree.org/uploads/default/optimized/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2_2_690x500.jpeg, https://leakfree.org/uploads/default/optimized/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2_2_1035x750.jpeg 1.5x, https://leakfree.org/uploads/default/optimized/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2_2_1380x1000.jpeg 2x" data-small-upload="../../uploads/default/optimized/2X/1/1176f9728982586115e02b3ab0e9250c7810f0f2_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">20160628234605_1.jpg</span><span class="informations">1920×1080 193 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/7/72cde5af65c67c43993d43fe44db034746e91457.jpg" data-download-href="https://leakfree.org/uploads/default/72cde5af65c67c43993d43fe44db034746e91457" title="20160628234701_1.jpg"><img src="../../uploads/default/optimized/2X/7/72cde5af65c67c43993d43fe44db034746e91457_2_690x500.jpg" alt="20160628234701_1.jpg" data-base62-sha1="gnByZpK7tSNpJfR3OkeO5sagF7x" width="690" height="500" srcset="https://leakfree.org/uploads/default/optimized/2X/7/72cde5af65c67c43993d43fe44db034746e91457_2_690x500.jpeg, https://leakfree.org/uploads/default/optimized/2X/7/72cde5af65c67c43993d43fe44db034746e91457_2_1035x750.jpeg 1.5x, https://leakfree.org/uploads/default/optimized/2X/7/72cde5af65c67c43993d43fe44db034746e91457_2_1380x1000.jpeg 2x" data-small-upload="../../uploads/default/optimized/2X/7/72cde5af65c67c43993d43fe44db034746e91457_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">20160628234701_1.jpg</span><span class="informations">1920×1080 323 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9.jpg" data-download-href="https://leakfree.org/uploads/default/d04230f84d341d46bb2ad779540ed77e18a3f5c9" title="20160628234736_1.jpg"><img src="../../uploads/default/optimized/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9_2_690x500.jpg" alt="20160628234736_1.jpg" data-base62-sha1="tIl7WasHQZoAM1ZcD4aN1Xhe6YF" width="690" height="500" srcset="https://leakfree.org/uploads/default/optimized/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9_2_690x500.jpeg, https://leakfree.org/uploads/default/optimized/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9_2_1035x750.jpeg 1.5x, https://leakfree.org/uploads/default/optimized/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9_2_1380x1000.jpeg 2x" data-small-upload="../../uploads/default/optimized/2X/d/d04230f84d341d46bb2ad779540ed77e18a3f5c9_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">20160628234736_1.jpg</span><span class="informations">1920×1080 379 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
        </div>

        <meta itemprop='headline' content='Annoying CSM'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Flavrans.html'><span itemprop='name'>Flavrans</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14843.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-06-30T23:53:37Z'>
              <time itemprop='dateModified' datetime='2018-11-25T04:52:45Z' class='post-time'>
                November 25, 2018,  4:52am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Admiral Sakai">
<div class="title">
<div class="quote-controls"></div>
 Admiral Sakai:</div>
<blockquote>
<p>none of the other topside maps seem to have the problems c2a4h does</p>
</blockquote>
</aside>
<p>It seems to me that they do. Every map that has the CSM entity in it gets this giant dark shadow cast indoors. But it’s not as apparent in other maps–the floors and walls mostly just look darker than they should. You can see the difference by toggling the [tt]cl_csm_enabled[/tt] convar on and off.</p>
<aside class="quote no-group" data-username="Flavrans">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/leakfree.org/flavrans/40/4375_2.jpg" class="avatar"> Flavrans:</div>
<blockquote>
<p>I did some testing and found that the “patina-shadows” go away if you set the SkipLightMapEnabled property in the env_cascade_light entity to 0 (false). It’s set to 1 in the stock bm_c2a4h map.</p>
</blockquote>
</aside>
<p>I looks like it’s set to 1 in every map that has the CSM entity in it, while the default value for this property is 0.</p>
<p>I’ve experimented a bit more and found that you could also get rid of the brownish cast by setting the LightBlendMode property to 0 (while leaving the SkipLightMapEnabled at 1), which makes the shadows greyish. Another thing you can do is to set the “Light Color” to a more neutral color, and increasing the ShadowColorIntensity from 0.25 to something like 0.7 also makes it better. But none of these tweaks change the fact that the giant shadow is still present indoors. And any tweaks to the CSM settings will also change the way the shadows look outside.</p>
<h2>The best “fix” seems to be to just set the SkipLightMapEnabled to 0. But I don’t know of there could be side-effects to doing so.</h2>
<p>You can control the CSM settings in-game via convars. First you need to set the [tt]cl_csm_convar_override[/tt] to 1. You can see all the csm convars by typing [tt]find cl_csm[/tt] into the console. Note that the CSM convars don’t seem to match the values set in the CSM entity in the map. Instead, they use their own default values, so the shadows will instantly change when you enable the [tt]cl_csm_convar_override[/tt].</p>
<hr>
<p>I found a blog post by one of the devs who worked on the CSM code. It provides interesting insight into how their CSM implementation works and the challenges they had in implementing it. It also explains some of the convars/properties that control the various aspects of CSM:</p>
<p><a href="https://chetanjags.wordpress.com/2016/05/12/sourceengine-csm-soft-shadows/" data-bbcode="true" rel="nofollow noopener">https://chetanjags.wordpress.com/2016/05/12/sourceengine-csm-soft-shadows/</a></p>
        </div>

        <meta itemprop='headline' content='Annoying CSM'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/TextFAMGUY1.html'><span itemprop='name'>TextFAMGUY1</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14843.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-07-01T01:35:23Z'>
              <time itemprop='dateModified' datetime='2018-11-25T04:52:45Z' class='post-time'>
                November 25, 2018,  4:52am
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Skiplightmap makes CSM skip the reading of the alpha in the lightmap. What this means is that the engine can no longer determine which parts of the map are in direct sunlight, and which parts aren’t.</p>
<p>It’s a workaround to make lightstyles work with CSM. Lightstyles = switchable, named lights which take up lightmap pages in VRAD. A map with switchable lights has different pages in the lightmap alpha, so CSM does not work with it usually. This would normally mean that maps with CSM cannot have switchable lights, which is bad for obvious reasons - and was a serious limitation of the CSM present in CS:GO.</p>
<p>When skiplightmap is enabled, the engine will instead approximate the areas which are in shadow and which aren’t, which is why you get that slight darkening effect indoors. It’s a visual issue indeed, but it’s preferable to us not being able to have CSM on maps with switchable lights, which is the alternative. Chetan tried a bunch of ways to resolve this but ultimately this workaround is the only solution we have currently.</p>
<p>You basically have 2 options:</p>
<ol>
<li>
<p>Live with it.</p>
</li>
<li>
<p>Remove any named lights and turn off skiplightmaps in the CSM entity.</p>
</li>
</ol>
<p>We may be able to resolve the issue in the future, but for now, this is how it is after months of work.</p>
        </div>

        <meta itemprop='headline' content='Annoying CSM'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Pixelblast Media LLC'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/b/b4f2bc6e5e04e842eae8b788313c606f873a973b.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Admiral_Sakai.html'><span itemprop='name'>Admiral_Sakai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14843.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-07-01T13:17:00Z'>
              <time itemprop='dateModified' datetime='2018-11-25T04:52:46Z' class='post-time'>
                November 25, 2018,  4:52am
              </time>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To my knowledge pd_c2a4h has no named lights in it currently, and none are planned. I am perfectly fine knowing that the problem is being worked on, as there are other reasons why I won’t be able to update pd_c2a4h to use a lot of the new functionality for a while yet.</p>
        </div>

        <meta itemprop='headline' content='Annoying CSM'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="headerNotice">
    <div class="headerNoticeWrapper wrap">
        <p>Founded in 2004, Leakfree.org became one of the first online communities dedicated to Valve’s Source engine development. It is more famously known for the formation of Black Mesa: Source under the 'Leakfree Modification Team' handle in September 2004.</p>
    </div>
</div>
    
  </body>
  

<!-- Mirrored from leakfree.org/t/annoying-csm/14843 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 18 Jan 2021 10:08:52 GMT -->
</html>
